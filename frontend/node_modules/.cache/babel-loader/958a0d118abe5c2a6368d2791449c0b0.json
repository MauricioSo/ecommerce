{"ast":null,"code":"import _slicedToArray from\"E:\\\\sitios\\\\ecommerce\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useParams}from\"react-router-dom\";import{fetchProduct}from\"../actions/productActions\";import{Container,Row,Col,Image,Spinner,Button,Card}from\"react-bootstrap\";import{addToCart}from\"../actions/cartActions\";var SingleProduct=function SingleProduct(){var dispatch=useDispatch();var _useParams=useParams(),productId=_useParams.productId;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),quantity=_useState2[0],setQuantity=_useState2[1];useEffect(function(){dispatch(fetchProduct(productId));},[]);var productFetched=useSelector(function(state){return state.productData;});var loading=productFetched.loading,error=productFetched.error,product=productFetched.product;var handleAddToCart=function handleAddToCart(){dispatch(addToCart(productId,quantity));};var handleOnChange=function handleOnChange(e){setQuantity(e.target.value);};return/*#__PURE__*/React.createElement(Container,{className:\"mx-5  my-5 py-5\"},loading?/*#__PURE__*/React.createElement(Spinner,{animation:\"border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{className:\"sr-only\"},\"Loading...\")):error?/*#__PURE__*/React.createElement(\"div\",null,error):product?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:5,lg:3},/*#__PURE__*/React.createElement(Image,{src:\"\".concat(process.env.PUBLIC_URL,\"/\").concat(product.image)})),/*#__PURE__*/React.createElement(Col,{md:7,lg:9},/*#__PURE__*/React.createElement(\"h2\",null,product.name),/*#__PURE__*/React.createElement(\"p\",null,product.description),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"price:\",product.price),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"quantity\",/*#__PURE__*/React.createElement(\"input\",{value:quantity,type:\"text\",onChange:handleOnChange,style:{width:\"20px\"}})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{className:\"mt-2\",variant:\"success\",onClick:handleAddToCart},\"Add to Cart\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"h4\",{className:\"my-5 pt-5 mx-auto\"},\"Reviews\"),product.reviews.map(function(el){return/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Body,{className:\"d-flex \"},/*#__PURE__*/React.createElement(Card.Title,{className:\"mx-2\"},el.name,\":\"),/*#__PURE__*/React.createElement(Card.Text,{className:\"mx-2\"},el.comment),/*#__PURE__*/React.createElement(Card.Text,null,\" and rating is \",el.rating))));}))):/*#__PURE__*/React.createElement(\"div\",null,\"product not found\"));};export default SingleProduct;","map":{"version":3,"sources":["E:/sitios/ecommerce/frontend/src/pages/singleProduct.js"],"names":["React","useEffect","useState","useSelector","useDispatch","useParams","fetchProduct","Container","Row","Col","Image","Spinner","Button","Card","addToCart","SingleProduct","dispatch","productId","quantity","setQuantity","productFetched","state","productData","loading","error","product","handleAddToCart","handleOnChange","e","target","value","process","env","PUBLIC_URL","image","name","description","price","width","reviews","map","el","comment","rating"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { fetchProduct } from \"../actions/productActions\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Image,\r\n  Spinner,\r\n  Button,\r\n  Card\r\n} from \"react-bootstrap\";\r\nimport { addToCart } from \"../actions/cartActions\";\r\n\r\nconst SingleProduct = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { productId } = useParams();\r\n  const [quantity, setQuantity] = useState(0);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchProduct(productId));\r\n  }, []);\r\n\r\n  const productFetched = useSelector(state => state.productData);\r\n  const { loading, error, product } = productFetched;\r\n  const handleAddToCart = () => {\r\n    dispatch(addToCart(productId, quantity));\r\n  };\r\n  const handleOnChange = e => {\r\n    setQuantity(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mx-5  my-5 py-5\">\r\n      {loading ? (\r\n        <Spinner animation=\"border\" role=\"status\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      ) : error ? (\r\n        <div>{error}</div>\r\n      ) : product ? (\r\n        <>\r\n          <Row>\r\n            <Col md={5} lg={3}>\r\n              <Image src={`${process.env.PUBLIC_URL}/${product.image}`} />\r\n            </Col>\r\n            <Col md={7} lg={9}>\r\n              <h2>{product.name}</h2>\r\n\r\n              <p>{product.description}</p>\r\n              <br />\r\n              <p>price:{product.price}</p>\r\n              <br />\r\n              <label>\r\n                quantity\r\n                <input\r\n                  value={quantity}\r\n                  type=\"text\"\r\n                  onChange={handleOnChange}\r\n                  style={{ width: \"20px\" }}\r\n                ></input>\r\n              </label>\r\n              <br />\r\n              <Button\r\n                className=\"mt-2\"\r\n                variant=\"success\"\r\n                onClick={handleAddToCart}\r\n              >\r\n                Add to Cart\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <h4 className=\"my-5 pt-5 mx-auto\">Reviews</h4>\r\n\r\n            {product.reviews.map(el => (\r\n              <Col lg={12}>\r\n                <Card className=\"border-0\">\r\n                  <Card.Body className=\"d-flex \">\r\n                    <Card.Title className=\"mx-2\">{el.name}:</Card.Title>\r\n                    <Card.Text className=\"mx-2\">{el.comment}</Card.Text>\r\n                    <Card.Text> and rating is {el.rating}</Card.Text>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </>\r\n      ) : (\r\n        <div>product not found</div>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SingleProduct;\r\n"]},"metadata":{},"sourceType":"module"}